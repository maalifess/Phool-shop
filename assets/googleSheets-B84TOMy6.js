import{r as i,j as d,P as g,d as p,e as S}from"./index-CQqHJjZ5.js";var O="Label",u=i.forwardRef((e,s)=>d.jsx(g.label,{...e,ref:s,onMouseDown:o=>{var a;o.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,o),!o.defaultPrevented&&o.detail>1&&o.preventDefault())}}));u.displayName=O;var m=u;const h=S("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),f=i.forwardRef(({className:e,...s},o)=>d.jsx(m,{ref:o,className:p(h(),e),...s}));f.displayName=m.displayName;const r="https://script.google.com/macros/s/YOUR_PRODUCTION_SCRIPT_ID/exec",_=async e=>{var s,o,l;try{console.log("ğŸš€ Starting Google Sheets submission..."),console.log("ğŸ“‹ Order data:",e),console.log("ğŸ”— API URL:",r);const t={timestamp:new Date().toISOString(),orderType:e.orderType,name:e.name,email:e.email,phone:e.phone,address:e.address||"",products:e.products,quantity:e.quantity,paymentMethod:e.paymentMethod||"",notes:e.notes||"",status:e.status||"Under Process",customDescription:((s=e.customDetails)==null?void 0:s.description)||"",customColors:((o=e.customDetails)==null?void 0:o.colors)||"",customTimeline:((l=e.customDetails)==null?void 0:l.timeline)||""};console.log("ğŸ“¤ Row data prepared:",t);const n=JSON.parse(localStorage.getItem("phool_orders_backup")||"[]");if(n.push(t),localStorage.setItem("phool_orders_backup",JSON.stringify(n)),console.log("ğŸ’¾ Data saved to localStorage as backup"),!r||r.includes("YOUR_SCRIPT_ID"))return console.error("âŒ GOOGLE SHEETS NOT CONFIGURED: VITE_GOOGLE_SHEETS_URL is missing or contains placeholder value"),console.error("ğŸ“Š Order saved to localStorage only. To fix: set VITE_GOOGLE_SHEETS_URL in .env and rebuild"),!0;console.log("ğŸŒ Sending to Google Sheets...");try{const c=await fetch(r,{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});console.log("ğŸ“¡ Request sent (no-cors mode)"),console.log("âœ… Google Sheets request completed (response unreadable due to CORS)")}catch(c){return console.warn("âŒ Google Sheets fetch failed:",c),console.warn("ğŸ“Š Data saved locally instead"),!1}return console.log("ğŸ‰ Order data saved successfully"),!0}catch(a){console.error("ğŸ’¥ Error adding order to Google Sheet:",a);const t=JSON.parse(localStorage.getItem("phool_orders_backup")||"[]");return t.push({...e,timestamp:new Date().toISOString(),status:e.status||"Under Process",error:"Failed to sync to Google Sheets"}),localStorage.setItem("phool_orders_backup",JSON.stringify(t)),!1}};export{f as L,_ as a};
