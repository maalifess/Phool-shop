import{r as u,a as C,j as e}from"./index-CeWcHCL9.js";import{L as p,B as y}from"./Layout-VZ1BJX_6.js";import{I as d}from"./input-B3i7Pj-D.js";import{T as c,S as X,a as k,b as _,c as z,d as j}from"./select-LjraNiXk.js";import{C as O,L as n,s as $,a as A}from"./googleSheets-B3ohviQF.js";import{C as B,b as F,c as I,a as M}from"./card-CqIAZ2mx.js";import{m as r}from"./proxy-DtSI08ns.js";import{S as E}from"./shopping-bag-DHeTK_vG.js";import"./tslib.es6-CmEaCU22.js";const Q=()=>{var h;const[g,m]=u.useState(!1),f=C(),[o,N]=u.useState(void 0);let s=(h=f.state)==null?void 0:h.items;if(!s||s.length===0)try{const t=localStorage.getItem("phool_cart_v1");t&&(s=JSON.parse(t))}catch{s=void 0}const v=s&&s.length>0?s.map(t=>`${t.quantity}x ${t.name} (PKR ${t.price})${t.customText?` â€” Message: ${t.customText}`:""}`).join(`
`):void 0,b=async t=>{t.preventDefault();const S=t.target,i=new FormData(S),l={name:String(i.get("name")||""),email:String(i.get("email")||""),phone:String(i.get("phone")||""),quantity:String(i.get("quantity")||""),address:String(i.get("address")||""),products:String(i.get("products")||""),notes:String(i.get("notes")||""),paymentMethod:o||"",orderType:"regular"},P={...l,order_summary:s?s.map(a=>`${a.quantity}x ${a.name} - PKR ${a.price}${a.customText?` (Message: ${a.customText})`:""}`).join(`
`):l.products,total_amount:s?s.reduce((a,x)=>a+x.price*x.quantity,0):"N/A",timestamp:new Date().toLocaleString(),payment_details:o==="jazzcash"?"JazzCash: 0321-000-0000 (Phool Shop)":o==="bank"?"Bank: Example Bank, IBAN: PK00EXAM00000000000000 (Phool Shop)":"Not selected"},T="your_production_service_id",w="your_production_template_id",q="your_production_public_key";try{await $(T,w,P,q),console.log("Order email sent successfully")}catch(a){console.error("Order email send failed:",a)}try{const a=await A(l);console.log(a?"Order added to Google Sheets successfully":"Order saved to local storage (Google Sheets not configured)")}catch(a){console.error("Google Sheets integration failed:",a)}m(!0)};return g?e.jsx(p,{children:e.jsx("section",{className:"flex min-h-[60vh] items-center justify-center py-16",children:e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},className:"mx-auto max-w-md text-center",children:[e.jsx(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:12},children:e.jsx(O,{className:"mx-auto h-20 w-20 text-primary"})}),e.jsx(r.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.15},className:"mt-6 font-display text-3xl font-bold text-foreground",children:"Order Placed!"}),e.jsx(r.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:"mt-4 text-muted-foreground",children:"Thank you! Please send a proof of payment screenshot to WhatsApp on 0333-XXXXXXX."}),e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"mt-6 flex justify-center gap-2 text-2xl",children:[e.jsx(r.span,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:"ðŸŽ‰"}),e.jsx(r.span,{initial:{y:-12,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:"âœ¨"}),e.jsx(r.span,{initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{delay:.45},children:"ðŸ’"})]}),e.jsx(y,{className:"mt-8 rounded-full px-8",onClick:()=>m(!1),children:"Place Another Order"})]})})}):e.jsx(p,{children:e.jsx("section",{className:"py-16 md:py-24",children:e.jsxs("div",{className:"container max-w-2xl",children:[e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[e.jsx(E,{className:"mx-auto h-10 w-10 text-primary"}),e.jsx("h1",{className:"mt-4 font-display text-4xl font-bold text-foreground md:text-5xl",children:"Place an Order"}),e.jsx("p",{className:"mx-auto mt-4 max-w-md text-muted-foreground",children:"Fill in your details below. No online payment required â€” we'll reach out to confirm and arrange payment."})]}),s&&s.length>0&&e.jsxs("div",{className:"mt-6 rounded-lg border border-border/40 bg-accent/50 p-4",children:[e.jsx("h3",{className:"font-medium",children:"You're checking out:"}),e.jsx("ul",{className:"mt-2 list-inside list-disc text-sm text-muted-foreground",children:s.map(t=>e.jsxs("li",{children:[t.quantity," Ã— ",t.name," â€” PKR ",t.price,t.customText?` â€” Message: ${t.customText}`:""]},`${t.id}-${t.customText??""}`))})]}),e.jsx(r.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsxs(B,{className:"mt-12 border-border/40",children:[e.jsx(F,{children:e.jsx(I,{className:"font-display text-xl",children:"Order Details"})}),e.jsx(M,{children:e.jsxs("form",{onSubmit:b,className:"space-y-5",children:[e.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"name",children:"Full Name"}),e.jsx(d,{id:"name",name:"name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"email",children:"Email"}),e.jsx(d,{id:"email",name:"email",type:"email",required:!0})]})]}),e.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"phone",children:"Phone"}),e.jsx(d,{id:"phone",name:"phone",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"quantity",children:"Quantity"}),e.jsx(d,{id:"quantity",name:"quantity",type:"number",min:"1",defaultValue:"1",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"address",children:"Shipping Address"}),e.jsx(c,{id:"address",name:"address",rows:2,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"products",children:"Product(s) You'd Like to Order"}),e.jsx(c,{id:"products",name:"products",rows:3,defaultValue:v,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"notes",children:"Additional Notes (optional)"}),e.jsx(c,{id:"notes",name:"notes",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(n,{htmlFor:"payment",children:"Payment Method"}),e.jsxs(X,{onValueChange:t=>N(t),children:[e.jsx(k,{id:"payment",children:e.jsx(_,{placeholder:"Choose payment method"})}),e.jsxs(z,{children:[e.jsx(j,{value:"jazzcash",children:"JazzCash"}),e.jsx(j,{value:"bank",children:"Bank Transfer"})]})]}),o==="jazzcash"&&e.jsxs("div",{className:"mt-2 rounded-md border border-border/40 bg-muted/10 p-3 text-sm",children:[e.jsx("div",{className:"font-medium",children:"JazzCash Details"}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Number: ",e.jsx("strong",{children:"0321-000-0000"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Account Name: ",e.jsx("strong",{children:"Phool Shop"})]})]}),o==="bank"&&e.jsxs("div",{className:"mt-2 rounded-md border border-border/40 bg-muted/10 p-3 text-sm",children:[e.jsx("div",{className:"font-medium",children:"Bank Transfer Details"}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Bank: ",e.jsx("strong",{children:"Example Bank"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["IBAN: ",e.jsx("strong",{children:"PK00EXAM00000000000000"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Account Name: ",e.jsx("strong",{children:"Phool Shop"})]})]})]}),e.jsxs("div",{className:"rounded-lg border border-border/60 bg-accent/50 p-4 text-sm text-muted-foreground",children:["ðŸ’¡ ",e.jsx("strong",{children:"Payment:"})," Send screenshot of proof of payment to email or phone below. We'll contact you to confirm and arrange delivery. There are no delivery charges â€” delivery is free.",e.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[e.jsxs("div",{children:["Email: ",e.jsx("strong",{children:"orders@phoolshop.com"})]}),e.jsxs("div",{children:["Phone/WhatsApp: ",e.jsx("strong",{children:"+92-321-XXX-XXXX"})]})]})]}),e.jsx(y,{type:"submit",size:"lg",className:"w-full rounded-full",children:"Submit Order"})]})})]})})]})})})};export{Q as default};
