import{c as X,r as d,b as ee,j as e,L as te}from"./index-BwsMhm0T.js";import{L as A,B as N}from"./Layout-CgCQMwKM.js";import{I as u}from"./input-GMFY6eYk.js";import{T as b,S as se,a as ae,b as re,c as ne,d as q}from"./select-86NMXHsn.js";import{L as o,s as oe,a as ie}from"./googleSheets-CF40l37p.js";import{C as de,b as le,c as ce,a as me}from"./card-BO71Zjxj.js";import{m as r}from"./proxy-CZFQajOn.js";import{C as xe}from"./circle-check-BM0DuR66.js";import{C as R}from"./check-CTi3gdWB.js";import{C as pe}from"./copy-YljRBEaX.js";import{S as ue}from"./shopping-bag-CpgW5sND.js";import"./tslib.es6-CmEaCU22.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=X("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=X("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]),E={PHOOL10:{discount:10,type:"percent",label:"10% off"},PHOOL20:{discount:20,type:"percent",label:"20% off"},SAVE100:{discount:100,type:"fixed",label:"PKR 100 off"},WELCOME:{discount:15,type:"percent",label:"15% off (Welcome)"}},k=50,ge=()=>{const v="PS",h=Date.now().toString(36).toUpperCase(),x=Math.random().toString(36).substring(2,6).toUpperCase();return`${v}-${h}-${x}`},Me=()=>{var _;const[v,h]=d.useState(!1),[x,F]=d.useState(""),[z,O]=d.useState(!1),L=ee(),[p,D]=d.useState(void 0),[I,T]=d.useState(""),[i,S]=d.useState(null),[M,y]=d.useState(""),[l,K]=d.useState(!1),[P,W]=d.useState("");let s=(_=L.state)==null?void 0:_.items;if(!s||s.length===0)try{const t=localStorage.getItem("phool_cart_v1");t&&(s=JSON.parse(t))}catch{s=void 0}const G=s&&s.length>0?s.map(t=>`${t.quantity}x ${t.name} (PKR ${t.price})${t.customText?` â€” Message: ${t.customText}`:""}`).join(`
`):void 0,g=s?s.reduce((t,j)=>t+j.price*j.quantity,0):0,n=i?E[i]:null,m=n?n.type==="percent"?Math.round(g*n.discount/100):n.discount:0,$=l?k:0,C=Math.max(0,g-m+$),B=()=>{const t=I.trim().toUpperCase();t&&(E[t]?(S(t),y("")):(y("Invalid promo code"),S(null)))},J=()=>{S(null),T(""),y("")},H=async()=>{try{await navigator.clipboard.writeText(x),O(!0),setTimeout(()=>O(!1),2e3)}catch{}},V=async t=>{t.preventDefault();const j=t.target,c=new FormData(j),w=ge(),f={name:String(c.get("name")||""),email:String(c.get("email")||""),phone:String(c.get("phone")||""),quantity:String(c.get("quantity")||""),address:String(c.get("address")||""),products:String(c.get("products")||""),notes:String(c.get("notes")||"")+(l?`
[GIFT WRAP] Message: ${P||"No message"}`:"")+(i?`
[PROMO: ${i} â€” ${n==null?void 0:n.label}]`:""),paymentMethod:p||"",orderType:"regular"},Y={...f,order_id:w,order_summary:s?s.map(a=>`${a.quantity}x ${a.name} - PKR ${a.price}${a.customText?` (Message: ${a.customText})`:""}`).join(`
`):f.products,total_amount:C,discount:m>0?`PKR ${m} (${i})`:"None",gift_wrap:l?`Yes â€” ${P||"No message"}`:"No",timestamp:new Date().toLocaleString(),payment_details:p==="jazzcash"?"JazzCash: 0321-000-0000 (Phool Shop)":p==="bank"?"Bank: Example Bank, IBAN: PK00EXAM00000000000000 (Phool Shop)":"Not selected"},U="your_production_service_id",Q="your_production_template_id",Z="your_production_public_key";try{await oe(U,Q,Y,Z)}catch(a){console.error("Order email send failed:",a)}try{await ie(f)||console.log("Order saved to local storage (Google Sheets not configured)")}catch(a){console.error("Google Sheets integration failed:",a)}try{const a=JSON.parse(localStorage.getItem("phool_orders")||"[]");a.push({id:w,items:s||[],subtotal:g,discount:m,giftWrap:l,giftWrapCost:$,total:C,promo:i,date:new Date().toISOString(),status:"pending",name:f.name}),localStorage.setItem("phool_orders",JSON.stringify(a))}catch{}F(w),h(!0)};return v?e.jsx(A,{children:e.jsx("section",{className:"flex min-h-[60vh] items-center justify-center py-16",children:e.jsxs(r.div,{initial:{opacity:0},animate:{opacity:1},className:"mx-auto max-w-md text-center",children:[e.jsx(r.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:400,damping:12},children:e.jsx(xe,{className:"mx-auto h-20 w-20 text-primary"})}),e.jsx(r.h2,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.15},className:"mt-6 font-display text-3xl font-bold text-foreground",children:"Order Placed!"}),x&&e.jsxs(r.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mt-4 rounded-xl border border-border/40 bg-accent/50 p-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:"Your Order ID"}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"font-mono text-lg font-bold text-foreground",children:x}),e.jsx("button",{onClick:H,className:"rounded-md p-1 hover:bg-muted transition-colors",title:"Copy order ID",children:z?e.jsx(R,{className:"h-4 w-4 text-green-500"}):e.jsx(pe,{className:"h-4 w-4 text-muted-foreground"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Save this ID to track your order"})]}),e.jsx(r.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:"mt-4 text-muted-foreground",children:"Thank you! Please send a proof of payment screenshot to WhatsApp on 0333-XXXXXXX."}),e.jsxs(r.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"mt-6 flex justify-center gap-2 text-2xl",children:[e.jsx(r.span,{initial:{y:-10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},children:"ðŸŽ‰"}),e.jsx(r.span,{initial:{y:-12,opacity:0},animate:{y:0,opacity:1},transition:{delay:.5},children:"âœ¨"}),e.jsx(r.span,{initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{delay:.45},children:"ðŸ’"})]}),e.jsxs("div",{className:"mt-8 flex flex-col items-center gap-3",children:[e.jsx(N,{className:"rounded-full px-8",onClick:()=>h(!1),children:"Place Another Order"}),e.jsx(N,{asChild:!0,variant:"outline",className:"rounded-full px-8",children:e.jsx(te,{to:"/order-tracking",children:"Track Your Orders"})})]})]})})}):e.jsx(A,{children:e.jsx("section",{className:"py-16 md:py-24",children:e.jsxs("div",{className:"container max-w-2xl",children:[e.jsxs(r.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[e.jsx(ue,{className:"mx-auto h-10 w-10 text-primary"}),e.jsx("h1",{className:"mt-4 font-display text-4xl font-bold text-foreground md:text-5xl",children:"Place an Order"}),e.jsx("p",{className:"mx-auto mt-4 max-w-md text-muted-foreground",children:"Fill in your details below. No online payment required â€” we'll reach out to confirm and arrange payment."})]}),s&&s.length>0&&e.jsxs("div",{className:"mt-6 rounded-lg border border-border/40 bg-accent/50 p-4",children:[e.jsx("h3",{className:"font-medium",children:"You're checking out:"}),e.jsx("ul",{className:"mt-2 list-inside list-disc text-sm text-muted-foreground",children:s.map(t=>e.jsxs("li",{children:[t.quantity," Ã— ",t.name," â€” PKR ",t.price,t.customText?` â€” Message: ${t.customText}`:""]},`${t.id}-${t.customText??""}`))})]}),e.jsx(r.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsxs(de,{className:"mt-12 border-border/40",children:[e.jsx(le,{children:e.jsx(ce,{className:"font-display text-xl",children:"Order Details"})}),e.jsx(me,{children:e.jsxs("form",{onSubmit:V,className:"space-y-5",children:[e.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",children:"Full Name"}),e.jsx(u,{id:"name",name:"name",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(u,{id:"email",name:"email",type:"email",required:!0})]})]}),e.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"phone",children:"Phone"}),e.jsx(u,{id:"phone",name:"phone",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"quantity",children:"Quantity"}),e.jsx(u,{id:"quantity",name:"quantity",type:"number",min:"1",defaultValue:"1",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"address",children:"Shipping Address"}),e.jsx(b,{id:"address",name:"address",rows:2,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"products",children:"Product(s) You'd Like to Order"}),e.jsx(b,{id:"products",name:"products",rows:3,defaultValue:G,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"notes",children:"Additional Notes (optional)"}),e.jsx(b,{id:"notes",name:"notes",rows:2})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"payment",children:"Payment Method"}),e.jsxs(se,{onValueChange:t=>D(t),children:[e.jsx(ae,{id:"payment",children:e.jsx(re,{placeholder:"Choose payment method"})}),e.jsxs(ne,{children:[e.jsx(q,{value:"jazzcash",children:"JazzCash"}),e.jsx(q,{value:"bank",children:"Bank Transfer"})]})]}),p==="jazzcash"&&e.jsxs("div",{className:"mt-2 rounded-md border border-border/40 bg-muted/10 p-3 text-sm",children:[e.jsx("div",{className:"font-medium",children:"JazzCash Details"}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Number: ",e.jsx("strong",{children:"0321-000-0000"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Account Name: ",e.jsx("strong",{children:"Phool Shop"})]})]}),p==="bank"&&e.jsxs("div",{className:"mt-2 rounded-md border border-border/40 bg-muted/10 p-3 text-sm",children:[e.jsx("div",{className:"font-medium",children:"Bank Transfer Details"}),e.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Bank: ",e.jsx("strong",{children:"Example Bank"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["IBAN: ",e.jsx("strong",{children:"PK00EXAM00000000000000"})]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Account Name: ",e.jsx("strong",{children:"Phool Shop"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(ye,{className:"h-4 w-4 text-primary"})," Promo Code"]}),i?e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-green-200 bg-green-50 p-3 text-sm",children:[e.jsx(R,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"font-medium text-green-700",children:i}),e.jsxs("span",{className:"text-green-600",children:["â€” ",n==null?void 0:n.label]}),e.jsx("button",{type:"button",onClick:J,className:"ml-auto text-red-500 hover:text-red-700 text-xs font-medium",children:"Remove"})]}):e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{placeholder:"Enter promo code",value:I,onChange:t=>{T(t.target.value),y("")}}),e.jsx(N,{type:"button",variant:"outline",onClick:B,className:"shrink-0",children:"Apply"})]}),M&&e.jsx("p",{className:"text-sm text-red-500",children:M})]}),e.jsxs("div",{className:"space-y-3 rounded-lg border border-border/40 p-4",children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:l,onChange:t=>K(t.target.checked),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary"}),e.jsx(he,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"font-medium text-foreground",children:"Add Gift Wrapping"}),e.jsxs("span",{className:"ml-auto text-sm text-muted-foreground",children:["+ PKR ",k]})]}),l&&e.jsxs("div",{className:"space-y-2 pl-7",children:[e.jsx(o,{htmlFor:"giftMsg",children:"Gift Message (optional)"}),e.jsx(b,{id:"giftMsg",value:P,onChange:t=>W(t.target.value),rows:2,placeholder:"Write a message for the recipient...",maxLength:200})]})]}),s&&s.length>0&&e.jsxs("div",{className:"rounded-lg border border-border/40 bg-accent/30 p-4 space-y-2 text-sm",children:[e.jsx("div",{className:"font-semibold text-foreground",children:"Order Summary"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),e.jsxs("span",{children:["PKR ",g]})]}),m>0&&e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsxs("span",{children:["Discount (",i,")"]}),e.jsxs("span",{children:["- PKR ",m]})]}),l&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Gift Wrapping"}),e.jsxs("span",{children:["PKR ",k]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Delivery"}),e.jsx("span",{className:"text-green-600 font-medium",children:"Free"})]}),e.jsxs("div",{className:"border-t border-border/40 pt-2 flex justify-between font-bold text-foreground text-base",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{className:"text-primary",children:["PKR ",C]})]})]}),e.jsxs("div",{className:"rounded-lg border border-border/60 bg-accent/50 p-4 text-sm text-muted-foreground",children:[e.jsx("strong",{children:"Payment:"})," Send screenshot of proof of payment to email or phone below. We'll contact you to confirm and arrange delivery. There are no delivery charges â€” delivery is free.",e.jsxs("div",{className:"mt-3 space-y-1 text-sm",children:[e.jsxs("div",{children:["Email: ",e.jsx("strong",{children:"orders@phoolshop.com"})]}),e.jsxs("div",{children:["Phone/WhatsApp: ",e.jsx("strong",{children:"+92-321-XXX-XXXX"})]})]})]}),e.jsx(N,{type:"submit",size:"lg",className:"w-full rounded-full",children:"Submit Order"})]})})]})})]})})})};export{Me as default};
