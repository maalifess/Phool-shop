import{c as x,r as a,j as e,L as l}from"./index-2BCN79Ve.js";import{L as u,H as p,B as o}from"./Layout-CsdtjW8y.js";import{C as h,a as y}from"./card-DeJ0jeIk.js";import{l as j}from"./supabaseFundraisers-D6RWqFyS.js";import{l as f}from"./supabase-C5sOXNJb.js";import{m as i}from"./proxy-DhgIlT5W.js";import"./supabaseClient-whyNr3HJ.js";import"./tslib.es6-CmEaCU22.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g=x("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),N={hidden:{opacity:0,y:20},visible:r=>({opacity:1,y:0,transition:{delay:r*.1,duration:.5,ease:"easeOut"}})},P=()=>{const[r,n]=a.useState([]),[c,m]=a.useState([]);a.useEffect(()=>{(async()=>{const[s,t]=await Promise.all([j(),f()]);n(s),m(t)})()},[]);const d=a.useMemo(()=>{const s=new Map;for(const t of c)s.set(t.id,t.name);return s},[c]);return e.jsx(u,{children:e.jsx("section",{className:"py-16 md:py-24",children:e.jsxs("div",{className:"container max-w-3xl",children:[e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[e.jsx(p,{className:"mx-auto h-10 w-10 text-primary"}),e.jsx("h1",{className:"mt-4 font-display text-4xl font-bold text-foreground md:text-5xl",children:"Fundraisers"}),e.jsx("p",{className:"mx-auto mt-4 max-w-lg text-muted-foreground",children:"We use our craft to give back. Check out our active campaigns and past initiatives."})]}),e.jsx(i.div,{initial:"hidden",animate:"visible",className:"mt-14 space-y-6",children:r.map((s,t)=>e.jsx(i.div,{variants:N,custom:t,children:e.jsx(h,{className:`border-border/40 ${s.active?"":"opacity-70"}`,children:e.jsxs(y,{className:"flex gap-6 p-6",children:[e.jsx("div",{className:"flex h-16 w-16 shrink-0 items-center justify-center rounded-2xl bg-accent text-3xl overflow-hidden",children:s.image?e.jsx("img",{src:s.image,alt:s.title,className:"h-full w-full object-cover",loading:"lazy"}):"üéóÔ∏è"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"font-display text-lg font-semibold text-foreground",children:s.title}),s.active&&e.jsx("span",{className:"rounded-full bg-primary/20 px-2 py-0.5 text-xs font-medium text-primary",children:"Active"})]}),e.jsx("p",{className:"mt-2 text-sm leading-relaxed text-muted-foreground",children:s.description}),e.jsxs("div",{className:"mt-3 flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1 text-sm font-medium text-foreground",children:[e.jsx(g,{className:"h-4 w-4"})," Goal: ",typeof s.goal_pkr=="number"?`PKR ${s.goal_pkr}`:s.goal]}),s.active&&e.jsxs("div",{className:"flex items-center gap-2",children:[s.product_id&&e.jsx(o,{asChild:!0,size:"sm",className:"rounded-full",children:e.jsx(l,{to:`/product/${s.product_id}`,children:d.get(s.product_id)?`Buy: ${d.get(s.product_id)}`:"Buy for fundraiser"})}),e.jsx(o,{asChild:!0,size:"sm",className:"rounded-full",children:e.jsx(l,{to:`/fundraiser/${s.id}`,children:"Participate"})})]})]})]})]})})},s.id))})]})})})};export{P as default};
