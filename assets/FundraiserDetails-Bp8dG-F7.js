import{u as N,r as d,j as e,L as m}from"./index-CeWcHCL9.js";import{L as a,B as u}from"./Layout-VZ1BJX_6.js";import{C as b,b as g,c as y,a as w}from"./card-CqIAZ2mx.js";import{a as L}from"./supabaseFundraisers-D6RWqFyS.js";import{a as P}from"./supabase-C5sOXNJb.js";import"./supabaseClient-whyNr3HJ.js";import"./tslib.es6-CmEaCU22.js";const E=()=>{const{id:x}=N(),t=Number(x),[s,f]=d.useState(null),[h,i]=d.useState(null),[j,o]=d.useState(!0);if(d.useEffect(()=>{(async()=>{o(!0);const r=await(Number.isFinite(t)?L(t):Promise.resolve(null));if(f(r),r&&typeof r.product_id=="number"){const v=await P(r.product_id);i(v)}else i(null);o(!1)})()},[t]),j)return e.jsx(a,{children:e.jsx("div",{className:"container py-24 text-center text-muted-foreground",children:"Loading fundraiser..."})});if(!s)return e.jsx(a,{children:e.jsx("div",{className:"container py-24 text-center",children:"Fundraiser not found."})});const p=typeof s.goal_pkr=="number"?`PKR ${s.goal_pkr}`:s.goal,l=s.start_date?new Date(s.start_date).toLocaleDateString():"",n=s.end_date?new Date(s.end_date).toLocaleDateString():"",c=h??void 0;return e.jsx(a,{children:e.jsx("section",{className:"py-16 md:py-24",children:e.jsx("div",{className:"container max-w-4xl",children:e.jsx(b,{className:"border-border/40 overflow-hidden",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.image&&e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:s.image,alt:s.title,className:"h-full w-full object-cover",loading:"lazy"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(g,{children:e.jsx(y,{className:"font-display text-2xl",children:s.title})}),e.jsxs(w,{className:"space-y-4",children:[e.jsx("div",{className:"text-muted-foreground",children:s.description}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"rounded border border-border/40 p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Goal"}),e.jsx("div",{className:"font-semibold",children:p})]}),e.jsxs("div",{className:"rounded border border-border/40 p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Status"}),e.jsx("div",{className:"font-semibold",children:s.active?"Active":"Inactive"})]}),l&&e.jsxs("div",{className:"rounded border border-border/40 p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Start Date"}),e.jsx("div",{className:"font-semibold",children:l})]}),n&&e.jsxs("div",{className:"rounded border border-border/40 p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"End Date"}),e.jsx("div",{className:"font-semibold",children:n})]})]}),c&&e.jsxs("div",{className:"rounded border border-border/40 p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Linked Product"}),e.jsx("div",{className:"font-semibold",children:c.name}),e.jsx(u,{asChild:!0,className:"mt-2 w-full sm:w-auto",children:e.jsx(m,{to:`/product/${s.product_id}`,children:"View Product"})})]}),e.jsx("div",{className:"flex gap-3 pt-4",children:e.jsx(u,{asChild:!0,variant:"outline",children:e.jsx(m,{to:"/fundraisers",children:"‚Üê Back to Fundraisers"})})})]})]})]})})})})})};export{E as default};
