import{c as y,r as c,j as e}from"./index-BwsMhm0T.js";import{L as k,S as C,B as S}from"./Layout-CgCQMwKM.js";import{C as I,a as O}from"./card-BO71Zjxj.js";import{I as P}from"./input-GMFY6eYk.js";import{m as h}from"./proxy-CZFQajOn.js";import{C as D}from"./check-CTi3gdWB.js";import{C as L}from"./copy-YljRBEaX.js";import{C as f}from"./circle-check-BM0DuR66.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o=y("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]),n=[{key:"pending",label:"Order Placed",icon:o},{key:"confirmed",label:"Confirmed",icon:f},{key:"shipped",label:"Shipped",icon:o},{key:"delivered",label:"Delivered",icon:f}],M=()=>{const[l,j]=c.useState([]),[m,g]=c.useState(""),[x,i]=c.useState([]),[N,u]=c.useState(null);c.useEffect(()=>{try{const t=localStorage.getItem("phool_orders");if(t){const a=JSON.parse(t);j(a.reverse()),i(a)}}catch{}},[]);const p=()=>{const t=m.trim().toUpperCase();if(!t){i(l);return}i(l.filter(a=>a.id.toUpperCase().includes(t)))},v=async t=>{try{await navigator.clipboard.writeText(t),u(t),setTimeout(()=>u(null),2e3)}catch{}},b=t=>{const a=n.findIndex(s=>s.key===t);return a>=0?a:0};return e.jsx(k,{children:e.jsx("section",{className:"py-16 md:py-24",children:e.jsxs("div",{className:"container max-w-3xl",children:[e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[e.jsx(o,{className:"mx-auto h-10 w-10 text-primary"}),e.jsx("h1",{className:"mt-4 font-display text-4xl font-bold text-foreground md:text-5xl",children:"Track Your Orders"}),e.jsx("p",{className:"mx-auto mt-4 max-w-md text-muted-foreground",children:"View your order history and track status."})]}),e.jsx("div",{className:"mx-auto mt-8 max-w-md",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(C,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),e.jsx(P,{value:m,onChange:t=>g(t.target.value),onKeyDown:t=>t.key==="Enter"&&p(),placeholder:"Search by Order ID...",className:"pl-10 rounded-full"})]}),e.jsx(S,{onClick:p,className:"rounded-full",children:"Search"})]})}),e.jsx("div",{className:"mt-10 space-y-6",children:x.length===0?e.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[e.jsx(T,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),e.jsx("p",{className:"text-lg",children:l.length===0?"No orders yet.":"No orders match your search."})]}):x.map(t=>{const a=b(t.status);return e.jsx(h.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:e.jsx(I,{className:"border-border/40",children:e.jsxs(O,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-4 flex-wrap",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono text-sm font-bold text-foreground",children:t.id}),e.jsx("button",{onClick:()=>v(t.id),className:"rounded p-1 hover:bg-muted transition-colors",children:N===t.id?e.jsx(D,{className:"h-3.5 w-3.5 text-green-500"}):e.jsx(L,{className:"h-3.5 w-3.5 text-muted-foreground"})})]}),e.jsxs("p",{className:"mt-1 text-sm text-muted-foreground",children:[new Date(t.date).toLocaleDateString()," at ",new Date(t.date).toLocaleTimeString()]}),t.name&&e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Placed by: ",t.name]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-lg font-bold text-primary",children:["PKR ",t.total]}),t.discount>0&&e.jsxs("p",{className:"text-xs text-green-600",children:["Saved PKR ",t.discount]}),t.giftWrap&&e.jsx("p",{className:"text-xs text-muted-foreground flex items-center justify-end gap-1",children:e.jsx("span",{children:"Gift wrapped"})})]})]}),t.items.length>0&&e.jsx("div",{className:"mt-4 space-y-1",children:t.items.map((s,r)=>e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[s.quantity,"x ",s.name]}),e.jsxs("span",{children:["PKR ",s.price*s.quantity]})]},r))}),e.jsxs("div",{className:"mt-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:n.map((s,r)=>{const d=r<=a,w=s.icon;return e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full ${d?"bg-primary text-white":"bg-muted text-muted-foreground"} transition-colors`,children:e.jsx(w,{className:"h-4 w-4"})}),e.jsx("span",{className:`mt-2 text-xs font-medium ${d?"text-primary":"text-muted-foreground"}`,children:s.label}),r<n.length-1&&e.jsx("div",{className:`absolute h-0.5 ${d?"bg-primary":"bg-muted"}`})]},s.key)})}),e.jsx("div",{className:"mt-1 flex",children:n.slice(0,-1).map((s,r)=>e.jsx("div",{className:`flex-1 h-0.5 mx-4 rounded ${r<a?"bg-primary":"bg-muted"}`},r))})]})]})})},t.id)})})]})})})};export{M as default};
