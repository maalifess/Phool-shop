import{c,u as B,r as t,j as e}from"./index-DEN97tru.js";import{L as E,S as v,B as R}from"./Layout-BmqPV_Uj.js";import{I as q}from"./input-CTLdy9UI.js";import{C as H,b as U,a as z}from"./card-CuyMdiqB.js";import{s as G}from"./supabaseOrders-DiTNrRwi.js";import{O as K}from"./OrderStatusBadge-ByFGmnyZ.js";import{m as i}from"./proxy-BTE9RqdT.js";import{P as l,C as b}from"./package-DbJvfjU9.js";import{C as X}from"./check-CfO7Y2Wh.js";import{C as $}from"./copy-B5YvGfmx.js";import{G as Q}from"./gift-DCSK3fo0.js";import{C as k}from"./circle-check-DcfYCcLw.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r=c("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=c("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=c("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=c("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=c("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=c("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),de=()=>{const[o]=B(),[m,x]=t.useState(""),[h,u]=t.useState([]),[P,S]=t.useState(!1),[p,j]=t.useState(!1),[I,y]=t.useState(null);t.useEffect(()=>{const s=o.get("order");s&&(x(s),setTimeout(()=>{d(s)},500))},[o]);const d=async s=>{const n=s||m.trim();if(n){j(!0);try{const a=await G(n);u(a),S(!0)}catch(a){console.error("Search failed:",a),u([])}finally{j(!1)}}},D=()=>{d()},O=s=>{navigator.clipboard.writeText(s),y(s),setTimeout(()=>y(null),2e3)},_=s=>new Date(s).toLocaleString(),M=s=>{switch(s){case"Under Process":return e.jsx(l,{className:"h-5 w-5"});case"Confirmed":return e.jsx(k,{className:"h-5 w-5"});case"In Progress":return e.jsx(b,{className:"h-5 w-5"});case"Ready":return e.jsx(r,{className:"h-5 w-5"});case"Dispatched":return e.jsx(C,{className:"h-5 w-5"});case"Completed":return e.jsx(r,{className:"h-5 w-5"});case"Delivered":return e.jsx(r,{className:"h-5 w-5"});case"Cancelled":return e.jsx(w,{className:"h-5 w-5"});default:return e.jsx(l,{className:"h-5 w-5"})}},f=[{key:"Under Process",label:"Order Placed",icon:l},{key:"Confirmed",label:"Confirmed",icon:k},{key:"In Progress",label:"In Progress",icon:b},{key:"Ready",label:"Ready",icon:r},{key:"Dispatched",label:"Dispatched",icon:C},{key:"Completed",label:"Completed",icon:r},{key:"Delivered",label:"Delivered",icon:r},{key:"Cancelled",label:"Cancelled",icon:w}];return e.jsx(E,{children:e.jsx("section",{className:"py-16 md:py-24",children:e.jsxs("div",{className:"container max-w-4xl",children:[e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[e.jsx(v,{className:"mx-auto h-12 w-12 text-primary mb-4"}),e.jsx("h1",{className:"font-display text-4xl font-bold text-foreground md:text-5xl mb-4",children:"Track Your Order"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Enter your order ID to check the status of your Phool Shop order"})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},className:"max-w-xl mx-auto mb-8",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(q,{placeholder:"Enter your Order ID (e.g., PS-ABC-123)",value:m,onChange:s=>x(s.target.value),onKeyPress:s=>s.key==="Enter"&&d(),className:"flex-1"}),e.jsx(R,{onClick:D,disabled:p,children:p?e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-primary border-t-transparent"}):e.jsx(v,{className:"h-4 w-4"})})]})}),P&&e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.4},children:h.length===0?e.jsxs(i.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-16",children:[e.jsx(l,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"Order not found"}),e.jsxs("p",{className:"text-muted-foreground",children:["Please check your order ID and try again. If you continue to have issues, contact us at"," ",e.jsx("a",{href:"mailto:phoolshopstore@gmail.com",className:"text-primary hover:underline",children:"phoolshopstore@gmail.com"})]})]}):e.jsx("div",{className:"space-y-6",children:h.map((s,n)=>e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:n*.1},children:e.jsxs(H,{className:"border-border/40",children:[e.jsx(U,{children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[M(s.status||"Under Process"),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-mono text-sm font-bold text-primary",children:s.order_id}),e.jsx("button",{onClick:()=>O(s.order_id),className:"rounded p-1 hover:bg-muted transition-colors",children:I===s.order_id?e.jsx(X,{className:"h-3.5 w-3.5 text-green-500"}):e.jsx($,{className:"h-3.5 w-3.5 text-muted-foreground"})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:_(s.created_at||"")})]})]}),e.jsx(K,{status:s.status})]})}),e.jsx(z,{children:e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4"}),"Customer Information"]}),e.jsxs("div",{className:"grid gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Name:"}),e.jsx("span",{children:s.name})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(V,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.email})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.phone})]}),s.address&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-medium",children:"Address:"}),e.jsx("span",{className:"text-sm",children:s.address})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Order Details"}),e.jsx("div",{className:"bg-muted/30 rounded-lg p-4",children:e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("div",{className:"whitespace-pre-line",children:s.products}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-border/40",children:[e.jsxs("span",{children:["Quantity: ",s.quantity]}),e.jsxs("span",{className:"font-bold text-lg text-primary",children:["PKR ",s.total]})]}),s.gift_wrap&&e.jsxs("div",{className:"flex items-center gap-2 text-pink-600",children:[e.jsx(Q,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Gift wrapped"})]})]})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Order Status"}),e.jsx("div",{className:"flex items-center justify-between",children:f.map((a,L)=>{const N=f.findIndex(A=>A.key===s.status),g=L<=N&&N!==-1,T=a.icon;return e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:`flex h-8 w-8 items-center justify-center rounded-full transition-colors ${g?"bg-primary text-white":"bg-muted text-muted-foreground"}`,children:e.jsx(T,{className:"h-4 w-4"})}),e.jsx("span",{className:`mt-2 text-xs font-medium text-center ${g?"text-primary":"text-muted-foreground"}`,children:a.label})]},a.key)})})]}),s.payment_method&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Payment Information"}),e.jsxs("div",{className:"bg-muted/30 rounded-lg p-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Payment Method:"}),e.jsx("span",{className:"font-medium",children:s.payment_method})]}),s.promo_code&&e.jsxs("div",{className:"flex justify-between mt-2",children:[e.jsx("span",{children:"Promo Code:"}),e.jsx("span",{className:"font-medium",children:s.promo_code})]})]})]}),s.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Notes"}),e.jsx("div",{className:"bg-muted/30 rounded-lg p-4 text-sm",children:s.notes})]})]})})]})},s.order_id))})})]})})})};export{de as default};
