import{r as f,j as e}from"./index-Chfi1ioH.js";import{L as d,B as m}from"./Layout-D6sBXMsv.js";import{I as r}from"./input-BU17iat7.js";import{T as b,S as N,a as S,b as _,c as v,d as a}from"./select-B2XiFdpg.js";import{L as o,s as X,a as C}from"./googleSheets-B0rfMuBf.js";import{C as w,b as D,c as q,a as T}from"./card-P60NnTOC.js";import{m as l}from"./proxy-BqkdpaPr.js";import{C as k}from"./circle-check-D0Gwt06_.js";import{S as F}from"./sparkles-DVIvtwvZ.js";import"./check-Skj1uSOS.js";const $=()=>{const[u,n]=f.useState(!1),p=async c=>{c.preventDefault();const h=c.target,t=new FormData(h),s={name:String(t.get("name")||""),email:String(t.get("email")||""),phone:String(t.get("phone")||""),products:"Custom Order Request",quantity:"1",notes:String(t.get("timeline")||""),paymentMethod:"To be discussed",orderType:"custom",customDetails:{description:String(t.get("description")||""),colors:String(t.get("colors")||""),timeline:String(t.get("timeline")||"")}},x={...s,...s.customDetails,order_id:`CUSTOM-${Date.now()}`,order_summary:`Custom Order: ${s.customDetails.description}`,total_amount:"To be quoted",subtotal:"To be quoted",discount:"None",discount_amount:0,promo_code:"None",gift_wrap:"No",gift_wrap_cost:0,gift_message:"Not applicable",payment_method:"To be discussed",payment_details:"To be discussed with customer",order_type:"custom",status:"Quote Request",items_count:1,timestamp:new Date().toLocaleString(),delivery_note:"Delivery timeline to be discussed based on custom order requirements",contact_email:"orders@phoolshop.com",contact_phone:"+92-321-XXX-XXXX",order_items:JSON.stringify([{type:"custom",description:s.customDetails.description,colors:s.customDetails.colors,timeline:s.customDetails.timeline}]),customer_notes:String(t.get("timeline")||""),special_instructions:`Custom order - ${s.customDetails.description}`,custom_description:s.customDetails.description,custom_colors:s.customDetails.colors,custom_timeline:s.customDetails.timeline,custom_request:!0},y="your_production_service_id",j="your_production_template_id",g="your_production_public_key";try{await X(y,j,x,g),console.log("Custom order email sent successfully")}catch(i){console.error("Email send failed:",i)}try{const i=await C(s);console.log(i?"Custom order added to Google Sheets successfully":"Custom order saved to local storage (Google Sheets not configured)")}catch(i){console.error("Google Sheets integration failed:",i)}n(!0)};return u?e.jsx(d,{children:e.jsx("section",{className:"flex min-h-[60vh] items-center justify-center py-16",children:e.jsxs(l.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center",children:[e.jsx(k,{className:"mx-auto h-16 w-16 text-primary"}),e.jsx("h2",{className:"mt-6 font-display text-3xl font-bold text-foreground",children:"Request Submitted!"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"We'll get back to you within 2â€“3 business days. Please send a proof of payment screenshot to WhatsApp on 0333-XXXXXXX."}),e.jsx(m,{className:"mt-8 rounded-full px-8",onClick:()=>n(!1),children:"Submit Another Request"})]})})}):e.jsx(d,{children:e.jsx("section",{className:"py-16 md:py-24",children:e.jsxs("div",{className:"container max-w-2xl",children:[e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[e.jsx(F,{className:"mx-auto h-10 w-10 text-primary"}),e.jsx("h1",{className:"mt-4 font-display text-4xl font-bold text-foreground md:text-5xl",children:"Custom Orders"}),e.jsx("p",{className:"mx-auto mt-4 max-w-md text-muted-foreground",children:"Have something specific in mind? Tell us about your dream crochet piece and we'll bring it to life."})]}),e.jsx(l.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsxs(w,{className:"mt-12 border-border/40",children:[e.jsx(D,{children:e.jsx(q,{className:"font-display text-xl",children:"Request Form"})}),e.jsx(T,{children:e.jsxs("form",{onSubmit:p,className:"space-y-5",children:[e.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"name",children:"Your Name"}),e.jsx(r,{id:"name",placeholder:"Jane Doe",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(r,{id:"email",type:"email",placeholder:"jane@email.com",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"phone",children:"Phone or WhatsApp (optional)"}),e.jsx(r,{id:"phone",name:"phone",placeholder:"03XX-XXX-XXXX (WhatsApp preferred)"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"description",children:"What would you like made?"}),e.jsx(b,{id:"description",name:"description",placeholder:"Describe the item: type (toy, blanket), size, special requests, and any inspiration links",rows:4,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"colors",children:"Preferred Colors"}),e.jsx(r,{id:"colors",name:"colors",placeholder:"e.g., pastel pink, sage green, cream (optional)"})]}),e.jsxs("div",{className:"grid gap-5 sm:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{children:"Timeline"}),e.jsxs(N,{children:[e.jsx(S,{children:e.jsx(_,{placeholder:"When do you need it?"})}),e.jsxs(v,{children:[e.jsx(a,{value:"no-rush",children:"No rush"}),e.jsx(a,{value:"2-weeks",children:"Within 2 weeks"}),e.jsx(a,{value:"1-month",children:"Within 1 month"}),e.jsx(a,{value:"specific",children:"Specific date (mention below)"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"timeline",children:"Preferred pickup/delivery note (optional)"}),e.jsx(r,{id:"timeline",name:"timeline",placeholder:"e.g., Ready by 10 Mar, or Pickup only"})]})]}),e.jsx(m,{type:"submit",size:"lg",className:"w-full rounded-full",children:"Submit Request"})]})})]})})]})})})};export{$ as default};
