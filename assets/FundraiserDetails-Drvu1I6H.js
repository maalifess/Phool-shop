import{a as p,r as d,j as e,L as u}from"./index-Chfi1ioH.js";import{b,L as t,B as x}from"./Layout-D6sBXMsv.js";import{C as g,b as y,c as w,a as L}from"./card-P60NnTOC.js";import{a as P}from"./supabaseFundraisers-DNay62wb.js";const S=()=>{const{id:m}=p(),a=Number(m),[s,f]=d.useState(null),[h,i]=d.useState(null),[j,l]=d.useState(!0);if(d.useEffect(()=>{(async()=>{l(!0);const r=await(Number.isFinite(a)?P(a):Promise.resolve(null));if(f(r),r&&typeof r.product_id=="number"){const N=await b(r.product_id);i(N)}else i(null);l(!1)})()},[a]),j)return e.jsx(t,{children:e.jsx("div",{className:"container py-24 text-center text-muted-foreground",children:"Loading fundraiser..."})});if(!s)return e.jsx(t,{children:e.jsx("div",{className:"container py-24 text-center",children:"Fundraiser not found."})});const v=typeof s.goal_pkr=="number"?`PKR ${s.goal_pkr}`:s.goal,n=s.start_date?new Date(s.start_date).toLocaleDateString():"",o=s.end_date?new Date(s.end_date).toLocaleDateString():"",c=h??void 0;return e.jsx(t,{children:e.jsx("section",{className:"py-16 md:py-24",children:e.jsx("div",{className:"container max-w-4xl",children:e.jsx(g,{className:"border-border/40 overflow-hidden",children:e.jsxs("div",{className:"flex flex-col md:flex-row",children:[s.image&&e.jsx("div",{className:"md:w-1/3",children:e.jsx("img",{src:s.image,alt:s.title,className:"h-full w-full object-cover",loading:"lazy"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx(y,{children:e.jsx(w,{className:"font-display text-2xl",children:s.title})}),e.jsxs(L,{className:"space-y-4",children:[e.jsx("div",{className:"text-muted-foreground",children:s.description}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:[e.jsxs("div",{className:"rounded border border-border/40 p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Goal"}),e.jsx("div",{className:"font-semibold",children:v})]}),e.jsxs("div",{className:"rounded border border-border/40 p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Status"}),e.jsx("div",{className:"font-semibold",children:s.active?"Active":"Inactive"})]}),n&&e.jsxs("div",{className:"rounded border border-border/40 p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Start Date"}),e.jsx("div",{className:"font-semibold",children:n})]}),o&&e.jsxs("div",{className:"rounded border border-border/40 p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"End Date"}),e.jsx("div",{className:"font-semibold",children:o})]})]}),c&&e.jsxs("div",{className:"rounded border border-border/40 p-3",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Linked Product"}),e.jsx("div",{className:"font-semibold",children:c.name}),e.jsx(x,{asChild:!0,className:"mt-2 w-full sm:w-auto",children:e.jsx(u,{to:`/product/${s.product_id}`,children:"View Product"})})]}),e.jsx("div",{className:"flex gap-3 pt-4",children:e.jsx(x,{asChild:!0,variant:"outline",children:e.jsx(u,{to:"/fundraisers",children:"‚Üê Back to Fundraisers"})})})]})]})]})})})})})};export{S as default};
